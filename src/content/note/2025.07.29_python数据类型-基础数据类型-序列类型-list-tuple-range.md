---
title: Python数据类型-基础数据类型-序列类型 --- list, tuple, range
description: 序列类型 --- list, tuple, range
publishDate: 2025-07-29T15:54
---
## 一、通用序列操作

大多数序列类型，包括可变类型和不可变类型都支持下表中的操作。collections.abc.Sequence ABC被提供用来更容易地在自定义序列类型上正确地实现这些操作。

此表按优先级升序列出了序列操作。在表格中，s 和 t 是具有相同类型的序列，n, i, j 和 k 是整数而 x 是任何满足 s 所规定的类型和值限制的任意对象。

in 和 not in 操作具有与比较操作相同的优先级。+ (拼接) 和 * (重复) 操作具有与对应数值运算相同的优先级。

![](/assets/images/2025-07-29_16-24.png)

### 1、index(self, value, start=0, stop=sys.maxsize) → int

#### 1.1、在序列的指定切片 [start:stop) 范围内，从左到右查找第一次出现的元素 value，并返回其下标。若未找到，抛出 ValueError。

#### 1.2、参数

* value（必选）：要查找的元素，与序列元素做 == 比较。
* start（可选，默认为 0）：切片起始下标（包含）。
* stop（可选，默认为 sys.maxsize）：切片结束下标（不包含）。

#### 1.3、返回值

* 找到时返回 int 类型的下标（相对于原序列，而非切片）。
* 未找到时抛出 ValueError: <value> is not in sequence。

#### 1.4、边界/细节

* 支持负索引；start 或 stop 越界会被自动截断。
* 若序列中允许重复元素，只返回 最左侧 的第一次出现。
* 时间复杂度平均为 O(n)，因为需要线性扫描。

```python
>>> from collections.abc import Sequence
>>> t = ('a', 'b', 'c', 'b')
>>> Sequence.index(t, 'b')          # 等价于 t.index('b')
1
>>> t.index('b', 2)                 # 从下标 2 开始找
3
>>> t.index('x')
Traceback (most recent call last):
  ...
ValueError: 'x' is not in tuple
```

### 2、count(self, value) → int

#### 2.1、统计序列中 所有位置（无切片参数）与 value 相等的元素出现次数。

#### 2.2、参数

* value（必选）：要计数的元素，使用 == 比较。

#### 2.3、返回值

* int：出现次数；若一次也没有返回 0。
* 不会抛出异常，即使元素不存在。

#### 2.4、边界/细节

* 同样使用线性扫描，时间复杂度 O(n)。
* 对于可变序列（如 list），统计的是调用时刻的快照。
* 字符串、元组、列表、bytes 等内部实现均遵循同一语义。

```python
>>> seq = [1, 2, 1, 3, 1]
>>> seq.count(1)
3
>>> seq.count(99)
0
>>> 'banana'.count('na')
2
```

## 二、不可变序列类型

不可变序列类型普遍实现而可变序列类型未实现的唯一操作就是对hash() 内置函数的支持。

这种支持允许不可变类型，例如tuple 实例被用作dict 键，以及存储在set 和frozenset 实例中。

尝试对包含有不可哈希值的不可变序列进行哈希运算将会导致TypeError。

## 三、可变序列类型

以下表格中的操作是在可变序列类型上定义的。collections.abc.MutableSequence ABC 被提供用来更容易地在自定义序列类型上正确实现这些操作。

表格中的 s 是可变序列类型的实例，t 是任意可迭代对象，而 x 是符合对 s 所规定类型与值限制的任何对象 (例如，bytearray 仅接受满足 0 <= x <= 255 值限制的整数)。

![](/assets/images/2025-07-29_19-38.png)

### 1、append(self, value) → None

* 作用：在序列尾部追加单个元素。
* 参数：value – 待追加的对象。
* 返回值：None（就地修改）。
* 复杂度：均摊 O(1)。

```python
>>> lst = [1, 2]
>>> lst.append(3)
>>> lst
[1, 2, 3]
```

### 2、clear(self) → None

* 作用：删除序列中所有元素，使其长度变为 0。
* 参数：无。
* 返回值：None。

```python
>>> lst = [1, 2, 3]
>>> lst.clear()
>>> lst
[]
```

### 3、copy(self) → MutableSequence

* 作用：返回序列的浅拷贝（新对象，元素本身不复制）。
* 参数：无。
* 返回值：与原序列同类型的空壳副本。

```python
>>> lst = [[1], [2]]
>>> cp = lst.copy()
>>> cp[0].append(9)   # 修改元素，原列表受影响
>>> lst
[[1, 9], [2]]
```

### 4、extend(self, iterable) → None

* 作用：将可迭代对象中的所有元素依次追加到尾部。
* 参数：iterable – 任意可迭代对象（列表、元组、生成器等）。
* 返回值：None。
* 复杂度：O(k)，k 为 iterable 长度。

```python
>>> lst = [1, 2]
>>> lst.extend((3, 4))
>>> lst
[1, 2, 3, 4]
```

### 5、insert(self, index, value) → None

* 作用：在指定下标前插入元素；负索引也可。
* 参数：index – 插入位置；value – 待插入元素。
* 返回值：None。
* 复杂度：O(n)。

```python
>>> lst = ['a', 'c']
>>> lst.insert(1, 'b')
>>> lst
['a', 'b', 'c']
```

### 6、pop(self, index=-1) → element

* 作用：移除并返回指定下标的元素；默认移除最后一个。
* 参数：index – 可选，默认为 -1。
* 返回值：被弹出的元素。
* 异常：IndexError（空序列或越界）。

```python
>>> lst = [10, 20, 30]
>>> lst.pop()
30
>>> lst.pop(0)
10
>>> lst
[20]
```

### 7、remove(self, value) → None

* 作用：删除第一个与 value 相等的元素。
* 参数：value – 待移除的值（按 == 比较）。
* 返回值：None。
* 异常：ValueError（元素不存在）。

```python
>>> lst = [1, 2, 3, 2]
>>> lst.remove(2)
>>> lst
[1, 3, 2]
```

### 8、reverse(self) → None

* 作用：就地反转序列顺序。
* 参数：无。
* 返回值：None。
* 复杂度：O(n)。

```python
>>> lst = [1, 2, 3]
>>> lst.reverse()
>>> lst
[3, 2, 1]
```

## 四、列表 list

列表是可变序列，通常用于存放同类项目的集合（其中精确的相似程度将根据应用而变化）

### 1、构造方法：

`class list([iterable ])`

可以用多种方式构建列表：

* 使用一对方括号来表示空列表: \[]
* 使用方括号，其中的项以逗号分隔: \[a], \[a, b, c]
* 使用列表推导式: \[x for x in iterable]
* 使用类型的构造器: list() 或 list(iterable)

### 2、list.sort(*, key=None, reverse=False)

#### 2.1、作用

* 原地重排：调用后原列表顺序被永久改变。
* 稳定排序：排序前后，相等元素的相对顺序不变。
* 多字段排序：可一次指定多个键，实现多级排序（例如先按年龄再按姓名）。

#### 2.2、参数

\| 形参          | 类型                | 默认值     | 说明                                                                                                                                                        |

\| ----------- | ----------------- | ------- | --------------------------------------------------------------------------------------------------------------------------------------------------------- |

\| \*\*key\*\*     | callable 或 \`None\` | \`None\`  | \*\*排序键函数\*\*。对每个元素调用 \`key(element)\`，返回值作为排序依据。常见用法：<br>- \`key=str.lower\`（忽略大小写）<br>- \`key=lambda x: x.age\`（按对象属性）<br>- \`key=operator.itemgetter(1)\`（按元组第二字段） |

\| \*\*reverse\*\* | bool              | \`False\` | 为 \`True\` 时\*\*降序\*\*排序；\`False\` 为升序。                                                                                                                           |
