---
title: Python数据类型-基础数据类型-序列类型 --- list, tuple, range
description: 序列类型 --- list, tuple, range
publishDate: 2025-07-29T15:54
---
## 一、通用序列操作

大多数序列类型，包括可变类型和不可变类型都支持下表中的操作。collections.abc.Sequence ABC被提供用来更容易地在自定义序列类型上正确地实现这些操作。

此表按优先级升序列出了序列操作。在表格中，s 和 t 是具有相同类型的序列，n, i, j 和 k 是整数而 x 是任何满足 s 所规定的类型和值限制的任意对象。

in 和 not in 操作具有与比较操作相同的优先级。+ (拼接) 和 * (重复) 操作具有与对应数值运算相同的优先级。

![](/assets/images/2025-07-29_16-24.png)

### 1、index(self, value, start=0, stop=sys.maxsize) → int

#### 1.1、在序列的指定切片 [start:stop) 范围内，从左到右查找第一次出现的元素 value，并返回其下标。若未找到，抛出 ValueError。

#### 1.2、参数

* value（必选）：要查找的元素，与序列元素做 == 比较。
* start（可选，默认为 0）：切片起始下标（包含）。
* stop（可选，默认为 sys.maxsize）：切片结束下标（不包含）。

#### 1.3、返回值

* 找到时返回 int 类型的下标（相对于原序列，而非切片）。
* 未找到时抛出 ValueError: <value> is not in sequence。

#### 1.4、边界/细节

* 支持负索引；start 或 stop 越界会被自动截断。
* 若序列中允许重复元素，只返回 最左侧 的第一次出现。
* 时间复杂度平均为 O(n)，因为需要线性扫描。

```python
>>> from collections.abc import Sequence
>>> t = ('a', 'b', 'c', 'b')
>>> Sequence.index(t, 'b')          # 等价于 t.index('b')
1
>>> t.index('b', 2)                 # 从下标 2 开始找
3
>>> t.index('x')
Traceback (most recent call last):
  ...
ValueError: 'x' is not in tuple
```

### 2、count(self, value) → int

#### 2.1、统计序列中 所有位置（无切片参数）与 value 相等的元素出现次数。

#### 2.2、参数

* value（必选）：要计数的元素，使用 == 比较。

#### 2.3、返回值

* int：出现次数；若一次也没有返回 0。
* 不会抛出异常，即使元素不存在。

#### 2.4、边界/细节

* 同样使用线性扫描，时间复杂度 O(n)。
* 对于可变序列（如 list），统计的是调用时刻的快照。
* 字符串、元组、列表、bytes 等内部实现均遵循同一语义。

```python
>>> seq = [1, 2, 1, 3, 1]
>>> seq.count(1)
3
>>> seq.count(99)
0
>>> 'banana'.count('na')
2
```

## 二、不可变序列类型

不可变序列类型普遍实现而可变序列类型未实现的唯一操作就是对hash() 内置函数的支持。

这种支持允许不可变类型，例如tuple 实例被用作dict 键，以及存储在set 和frozenset 实例中。

尝试对包含有不可哈希值的不可变序列进行哈希运算将会导致TypeError。

## 三、可变序列类型

以下表格中的操作是在可变序列类型上定义的。collections.abc.MutableSequence ABC 被提供用来更容易地在自定义序列类型上正确实现这些操作。

表格中的 s 是可变序列类型的实例，t 是任意可迭代对象，而 x 是符合对 s 所规定类型与值限制的任何对象 (例如，bytearray 仅接受满足 0 <= x <= 255 值限制的整数)。

![](/assets/images/2025-07-29_19-38.png)

## 四、列表 list

列表是可变序列，通常用于存放同类项目的集合（其中精确的相似程度将根据应用而变化）

### 1、构造方法：

`class list([iterable ])`

可以用多种方式构建列表：

* 使用一对方括号来表示空列表: \[]
* 使用方括号，其中的项以逗号分隔: \[a], \[a, b, c]
* 使用列表推导式: \[x for x in iterable]
* 使用类型的构造器: list() 或 list(iterable)
